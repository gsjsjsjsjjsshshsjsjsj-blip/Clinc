# نظام إدارة المواعيد الطبية - شفاء
## Medical Appointments Management System - Shifa

نظام متكامل لإدارة المواعيد الطبية مبني بـ PHP وMySQL وBootstrap، يوفر تجربة مستخدم متميزة للمرضى والأطباء.

---

## 📋 المحتويات

- [المميزات](#المميزات)
- [المتطلبات](#المتطلبات)
- [التثبيت](#التثبيت)
- [الهيكل التنظيمي](#الهيكل-التنظيمي)
- [المميزات الأمنية](#المميزات-الأمنية)
- [الاستخدام](#الاستخدام)
- [حسابات تجريبية](#حسابات-تجريبية)

---

## 🌟 المميزات

### للمرضى
- ✅ تسجيل حساب جديد بسهولة
- 🔍 البحث عن الأطباء حسب التخصص والموقع
- 📅 حجز المواعيد بشكل سريع وسهل
- 🔔 نظام إشعارات متطور (داخل التطبيق)
- 📊 لوحة تحكم شاملة لإدارة المواعيد
- ⭐ تقييم الأطباء بعد الزيارة
- 📱 تصميم متجاوب يعمل على جميع الأجهزة

### للأطباء
- 📋 إدارة المواعيد والحجوزات
- ✅ تأكيد أو رفض المواعيد
- 👥 عرض قائمة المرضى
- 🕐 إدارة جدول العمل
- 📈 إحصائيات وتقارير
- 🔔 إشعارات فورية بالحجوزات الجديدة

### للمديرين
- 👨‍⚕️ إدارة الأطباء والمرضى
- 📊 تقارير شاملة عن النظام
- ⚙️ إعدادات النظام
- 🔐 إدارة الصلاحيات

---

## 💻 المتطلبات

- PHP 7.4 أو أحدث
- MySQL 5.7 أو أحدث
- خادم Apache أو Nginx
- مكتبات PHP:
  - PDO
  - mbstring
  - openssl

---

## 📦 التثبيت

### 1. استنساخ المشروع

```bash
git clone https://github.com/yourusername/medical-appointments.git
cd medical-appointments
```

### 2. إعداد قاعدة البيانات

1. أنشئ قاعدة بيانات جديدة:
```sql
CREATE DATABASE medical_appointments CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. استورد ملف قاعدة البيانات:
```bash
mysql -u root -p medical_appointments < database/schema.sql
```

### 3. تكوين الإعدادات

عدّل ملف `config/database.php`:

```php
define('DB_HOST', 'localhost');
define('DB_USER', 'your_username');
define('DB_PASS', 'your_password');
define('DB_NAME', 'medical_appointments');
```

### 4. تعيين الصلاحيات

تأكد من أن المجلدات التالية لديها صلاحيات الكتابة:

```bash
chmod 755 -R assets/
chmod 755 -R uploads/
```

### 5. تشغيل الخادم

#### باستخدام XAMPP/WAMP:
- ضع المشروع في مجلد `htdocs`
- افتح المتصفح على: `http://localhost/medical-appointments`

#### باستخدام خادم PHP المدمج:
```bash
php -S localhost:8000
```

---

## 📁 الهيكل التنظيمي

```
medical-appointments/
│
├── api/                          # نقاط النهاية API
│   ├── login.php
│   ├── register.php
│   ├── logout.php
│   ├── book-appointment.php
│   ├── search-doctors.php
│   ├── get-available-slots.php
│   └── notifications.php
│
├── assets/                       # الموارد الثابتة
│   ├── css/
│   ├── js/
│   └── images/
│
├── config/                       # ملفات التكوين
│   ├── config.php               # إعدادات عامة
│   └── database.php             # إعدادات قاعدة البيانات
│
├── database/                     # قاعدة البيانات
│   └── schema.sql               # مخطط قاعدة البيانات
│
├── includes/                     # المكتبات والوظائف
│   ├── auth.php                 # نظام المصادقة
│   ├── appointments.php         # إدارة المواعيد
│   ├── doctors.php              # إدارة الأطباء
│   └── notifications.php        # نظام الإشعارات
│
├── pages/                        # الصفحات
│   ├── patient/                 # صفحات المريض
│   │   ├── dashboard.php
│   │   ├── appointments.php
│   │   └── profile.php
│   │
│   ├── doctor/                  # صفحات الطبيب
│   │   ├── dashboard.php
│   │   ├── appointments.php
│   │   └── schedule.php
│   │
│   └── admin/                   # صفحات المدير
│       └── dashboard.php
│
├── index.html                    # الصفحة الرئيسية
├── login.html                    # صفحة تسجيل الدخول
├── register.html                 # صفحة التسجيل
└── README.md                     # ملف التوثيق
```

---

## 🔒 المميزات الأمنية

### 1. حماية قاعدة البيانات
- ✅ استخدام Prepared Statements لمنع حقن SQL
- ✅ استعلامات معاملات آمنة (Transactions)
- ✅ التحقق من نوع البيانات

### 2. المصادقة والتفويض
- ✅ تشفير كلمات المرور باستخدام bcrypt
- ✅ نظام جلسات آمن
- ✅ التحقق من صلاحيات المستخدم
- ✅ حماية من محاولات تسجيل الدخول المتكررة

### 3. تنقية البيانات
- ✅ التحقق من صحة البريد الإلكتروني
- ✅ تنقية المدخلات من HTML وJavaScript
- ✅ التحقق من أنواع الملفات المرفوعة

### 4. حماية الجلسات
- ✅ انتهاء الجلسة بعد فترة معينة
- ✅ تجديد معرف الجلسة بعد تسجيل الدخول
- ✅ منع اختطاف الجلسات

### 5. معالجة الأخطاء
- ✅ عدم عرض تفاصيل الأخطاء للمستخدمين
- ✅ تسجيل الأخطاء في ملفات خاصة
- ✅ رسائل خطأ عامة للمستخدمين

---

## 📱 الاستخدام

### تسجيل حساب جديد

1. انتقل إلى صفحة التسجيل
2. أدخل البيانات المطلوبة:
   - الاسم الكامل
   - البريد الإلكتروني
   - رقم الجوال (05xxxxxxxx)
   - كلمة المرور (8 أحرف على الأقل)
3. اضغط على "إنشاء الحساب"

### حجز موعد

1. سجل دخولك كمريض
2. ابحث عن الطبيب المناسب
3. اختر التاريخ والوقت المناسب
4. أكمل بيانات الحجز
5. انتظر تأكيد الطبيب

### إدارة المواعيد (للأطباء)

1. سجل دخولك كطبيب
2. انتقل إلى قسم "المواعيد"
3. راجع المواعيد بانتظار التأكيد
4. أكد أو ألغِ المواعيد
5. أضف ملاحظات للمرضى

---

## 👤 حسابات تجريبية

### مدير النظام
- البريد: `admin@shifa.sa`
- كلمة المرور: `Admin@123`

### طبيب تجريبي
- البريد: `doctor@shifa.sa`
- كلمة المرور: `Doctor@123`

### مريض تجريبي
- البريد: `patient@shifa.sa`
- كلمة المرور: `Patient@123`

---

## 🛠️ التقنيات المستخدمة

### Backend
- **PHP 7.4+**: لغة البرمجة الخلفية
- **MySQL**: قاعدة البيانات
- **PDO**: للتعامل مع قاعدة البيانات بشكل آمن

### Frontend
- **HTML5**: هيكلة الصفحات
- **CSS3**: تنسيق الصفحات
- **Bootstrap 5**: إطار عمل UI
- **JavaScript**: البرمجة التفاعلية
- **Bootstrap Icons**: الأيقونات

### الأمان
- **Prepared Statements**: حماية من SQL Injection
- **Password Hashing**: تشفير كلمات المرور
- **Session Management**: إدارة الجلسات الآمنة
- **Input Validation**: التحقق من المدخلات

---

## 📧 الدعم والمساهمة

إذا واجهت أي مشكلة أو لديك اقتراح، يرجى:
- فتح Issue في GitHub
- إرسال Pull Request
- التواصل عبر البريد الإلكتروني

---

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للمزيد من التفاصيل.

---

## 🙏 شكر خاص

- Bootstrap Team
- PHP Community
- جميع المساهمين في المشروع

---

**تم تطويره بـ ❤️ لخدمة القطاع الصحي**

# دليل قاعدة البيانات الموسعة 📊
## Extended Database Guide

---

## 📝 نظرة عامة

تم توسيع قاعدة البيانات لتشمل:

### ✅ التخصصات الطبية
- **العدد الإجمالي**: 40 تخصصاً طبياً
- تشمل جميع التخصصات الرئيسية والفرعية
- تخصصات الأطفال المتخصصة
- تخصصات الأسنان المتخصصة

### ✅ المدن السعودية
- **العدد الإجمالي**: 90+ مدينة
- تغطي جميع المناطق الـ 13 في المملكة
- تشمل المدن الرئيسية والثانوية
- مع إحداثيات GPS لكل مدينة

### ✅ الأطباء
- **العدد الإجمالي**: 48 طبيباً
- موزعون على مختلف المدن
- يغطون معظم التخصصات
- مع جداول عمل كاملة

---

## 🗂️ الملفات

### 1. `schema.sql`
- مخطط قاعدة البيانات الأساسي
- 8 جداول رئيسية
- 10 تخصصات أساسية
- 3 مستخدمين تجريبيين

### 2. `extended_data.sql` ⭐ (الجديد)
- 40 تخصصاً طبياً شاملاً
- 90+ مدينة سعودية
- 48 طبيباً في مختلف المدن
- جداول عمل كاملة للأطباء

---

## 📋 التخصصات الطبية (40 تخصص)

### التخصصات الأساسية (10)
1. طب الأسنان العام
2. طب وجراحة العيون
3. طب الأطفال
4. طب وجراحة القلب
5. الأمراض الجلدية
6. جراحة العظام
7. النساء والولادة
8. الطب الباطني
9. الأنف والأذن والحنجرة
10. الطب النفسي

### التخصصات المتقدمة (10)
11. جراحة الأعصاب
12. أمراض الأعصاب
13. جراحة المسالك البولية
14. جراحة التجميل
15. الجراحة العامة
16. الأشعة التشخيصية
17. التخدير والعناية المركزة
18. طب الطوارئ
19. الأورام
20. أمراض الدم

### التخصصات الدقيقة (10)
21. أمراض الروماتيزم
22. الغدد الصماء والسكري
23. أمراض الجهاز الهضمي
24. أمراض الكلى
25. أمراض الصدر والرئة
26. أمراض معدية
27. الحساسية والمناعة
28. الطب الرياضي
29. طب الأسرة
30. طب المسنين

### تخصصات الأطفال (3)
31. جراحة الأطفال
32. أمراض قلب الأطفال
33. أعصاب الأطفال

### تخصصات الأسنان (5)
34. تقويم الأسنان
35. جراحة الفم والوجه والفكين
36. علاج جذور الأسنان
37. طب أسنان الأطفال
38. تجميل الأسنان

### تخصصات أخرى (2)
39. الطب البديل والتكميلي
40. التغذية العلاجية

---

## 🌍 المدن السعودية (13 منطقة)

### 1. منطقة الرياض (8 مدن)
- الرياض ⭐
- الخرج
- الدوادمي
- المجمعة
- الزلفي
- شقراء
- عفيف
- وادي الدواسر

### 2. المنطقة الشرقية (9 مدن)
- الدمام ⭐
- الخبر ⭐
- الظهران
- الجبيل ⭐
- القطيف
- الأحساء ⭐
- الهفوف
- حفر الباطن
- رأس تنورة

### 3. منطقة مكة المكرمة (8 مدن)
- مكة المكرمة ⭐
- جدة ⭐
- الطائف ⭐
- القنفذة
- الليث
- رابغ
- خليص
- الجموم

### 4. منطقة المدينة المنورة (6 مدن)
- المدينة المنورة ⭐
- ينبع ⭐
- العلا
- بدر
- خيبر
- المهد

### 5. منطقة القصيم (6 مدن)
- بريدة ⭐
- عنيزة ⭐
- الرس
- المذنب
- البكيرية
- البدائع

### 6. منطقة عسير (7 مدن)
- أبها ⭐
- خميس مشيط ⭐
- بيشة
- النماص
- محايل
- سراة عبيدة
- ظهران الجنوب

### 7. منطقة تبوك (5 مدن)
- تبوك ⭐
- الوجه
- ضباء
- تيماء
- أملج

### 8. منطقة حائل (4 مدن)
- حائل ⭐
- بقعاء
- الشنان
- موقق

### 9. منطقة الحدود الشمالية (3 مدن)
- عرعر ⭐
- رفحاء
- طريف

### 10. منطقة جازان (6 مدن)
- جازان ⭐
- صبيا
- أبو عريش
- صامطة
- بيش
- الدرب

### 11. منطقة نجران (3 مدن)
- نجران ⭐
- شرورة
- حبونا

### 12. منطقة الباحة (4 مدن)
- الباحة ⭐
- بلجرشي
- المخواة
- المندق

### 13. منطقة الجوف (4 مدن)
- سكاكا ⭐
- دومة الجندل
- القريات
- طبرجل

**⭐ = مدينة رئيسية**

---

## 👨‍⚕️ الأطباء (48 طبيب)

### توزيع الأطباء حسب المدن الرئيسية:

| المدينة | عدد الأطباء |
|---------|-------------|
| الرياض | 5 |
| جدة | 5 |
| الدمام | 5 |
| مكة المكرمة | 3 |
| المدينة المنورة | 3 |
| الطائف | 2 |
| أبها | 3 |
| بريدة | 2 |
| تبوك | 2 |
| حائل | 2 |
| جازان | 2 |
| نجران | 2 |
| الباحة | 2 |
| الخبر | 2 |
| الجبيل | 2 |
| الأحساء | 2 |
| ينبع | 2 |
| خميس مشيط | 2 |

---

## 🚀 كيفية التطبيق

### الطريقة 1: تطبيق كامل (مستحسن)

```sql
-- 1. حذف قاعدة البيانات القديمة (اختياري)
DROP DATABASE IF EXISTS medical_appointments;

-- 2. تطبيق المخطط الأساسي
SOURCE database/schema.sql;

-- 3. تطبيق البيانات الموسعة
SOURCE database/extended_data.sql;
```

### الطريقة 2: إضافة البيانات الموسعة فقط

```sql
-- إذا كانت قاعدة البيانات موجودة بالفعل
USE medical_appointments;
SOURCE database/extended_data.sql;
```

### الطريقة 3: باستخدام phpMyAdmin

1. افتح phpMyAdmin
2. اختر قاعدة البيانات `medical_appointments`
3. اذهب إلى تبويب "Import"
4. اختر ملف `extended_data.sql`
5. اضغط "Go"

---

## 📊 الإحصائيات بعد التطبيق

```sql
-- عرض الإحصائيات
SELECT 'التخصصات' as النوع, COUNT(*) as العدد FROM specialties
UNION ALL
SELECT 'المدن', COUNT(*) FROM cities
UNION ALL
SELECT 'الأطباء', COUNT(*) FROM doctors
UNION ALL
SELECT 'المستخدمين', COUNT(*) FROM users
UNION ALL
SELECT 'جداول العمل', COUNT(*) FROM doctor_schedules;
```

### النتائج المتوقعة:
- **التخصصات**: 40
- **المدن**: 90+
- **الأطباء**: 48
- **المستخدمين**: 51 (3 أساسيين + 48 طبيب)
- **جداول العمل**: 240+ (5 أيام × 48 طبيب)

---

## 🔍 استعلامات مفيدة

### 1. عرض الأطباء حسب المدينة

```sql
SELECT 
    c.name_ar as المدينة,
    c.region_ar as المنطقة,
    COUNT(d.id) as عدد_الأطباء
FROM cities c
LEFT JOIN doctors d ON c.id = d.city_id
GROUP BY c.id
HAVING عدد_الأطباء > 0
ORDER BY عدد_الأطباء DESC;
```

### 2. عرض الأطباء حسب التخصص

```sql
SELECT 
    s.name_ar as التخصص,
    COUNT(d.id) as عدد_الأطباء,
    AVG(d.consultation_fee) as متوسط_السعر
FROM specialties s
LEFT JOIN doctors d ON s.id = d.specialty_id
GROUP BY s.id
HAVING عدد_الأطباء > 0
ORDER BY عدد_الأطباء DESC;
```

### 3. البحث عن أطباء في مدينة معينة

```sql
SELECT 
    u.full_name as اسم_الطبيب,
    s.name_ar as التخصص,
    d.clinic_name as العيادة,
    d.consultation_fee as السعر,
    d.rating as التقييم
FROM doctors d
JOIN users u ON d.user_id = u.id
JOIN specialties s ON d.specialty_id = s.id
JOIN cities c ON d.city_id = c.id
WHERE c.name_ar = 'الرياض'
ORDER BY d.rating DESC;
```

### 4. المدن حسب المنطقة

```sql
SELECT 
    region_ar as المنطقة,
    COUNT(*) as عدد_المدن,
    GROUP_CONCAT(name_ar SEPARATOR '، ') as المدن
FROM cities
GROUP BY region_ar
ORDER BY عدد_المدن DESC;
```

---

## 🔄 التحديثات المستقبلية

يمكن إضافة المزيد من:
- ✅ أطباء إضافيين
- ✅ تخصصات فرعية جديدة
- ✅ مدن صغيرة إضافية
- ✅ عيادات ومستشفيات
- ✅ تقييمات ومراجعات
- ✅ بيانات المرضى التجريبية

---

## ⚠️ ملاحظات هامة

1. **كلمات المرور**: جميع الأطباء يستخدمون كلمة المرور: `Doctor@123`
2. **البريد الإلكتروني**: بصيغة `dr.firstname.lastname@shifa.sa`
3. **جداول العمل**: الأحد - الخميس، فترتين (صباحي ومسائي)
4. **الأسعار**: تتراوح من 250-600 ريال حسب التخصص
5. **التقييمات**: عشوائية بين 4.6-4.9

---

## 📧 الدعم

إذا واجهت مشكلة:
1. تحقق من تطبيق `schema.sql` أولاً
2. تأكد من عدم وجود أخطاء في الاستعلامات
3. راجع سجل الأخطاء في MySQL
4. يمكنك حذف البيانات وإعادة التطبيق

---

## ✅ قائمة التحقق

- [ ] تم تطبيق `schema.sql`
- [ ] تم تطبيق `extended_data.sql`
- [ ] 40 تخصصاً في جدول `specialties`
- [ ] 90+ مدينة في جدول `cities`
- [ ] 48 طبيباً في جدول `doctors`
- [ ] جداول عمل للأطباء
- [ ] يمكن البحث عن الأطباء حسب المدينة
- [ ] يمكن البحث عن الأطباء حسب التخصص

---

**تم توسيع قاعدة البيانات بنجاح! 🎉**

الآن لديك نظام شامل يغطي جميع مدن المملكة العربية السعودية مع مجموعة واسعة من التخصصات الطبية!
